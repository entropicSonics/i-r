import {
  require_react
} from "./chunk-KZ2J4DY3.js";
import {
  __export,
  __toESM
} from "./chunk-ZS7NZCD4.js";

// ../node_modules/@lexical/react/LexicalErrorBoundary.dev.esm.js
var LexicalErrorBoundary_dev_esm_exports = {};
__export(LexicalErrorBoundary_dev_esm_exports, {
  default: () => LexicalErrorBoundary
});
var React = __toESM(require_react());
function _setPrototypeOf(o2, p) {
  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o3, p2) {
    o3.__proto__ = p2;
    return o3;
  };
  return _setPrototypeOf(o2, p);
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
var changedArray = function changedArray2(a, b) {
  if (a === void 0) {
    a = [];
  }
  if (b === void 0) {
    b = [];
  }
  return a.length !== b.length || a.some(function(item, index) {
    return !Object.is(item, b[index]);
  });
};
var initialState = {
  error: null
};
var ErrorBoundary = function(_React$Component) {
  _inheritsLoose(ErrorBoundary2, _React$Component);
  function ErrorBoundary2() {
    var _this;
    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
      _args[_key] = arguments[_key];
    }
    _this = _React$Component.call.apply(_React$Component, [this].concat(_args)) || this;
    _this.state = initialState;
    _this.resetErrorBoundary = function() {
      var _this$props;
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      _this.props.onReset == null ? void 0 : (_this$props = _this.props).onReset.apply(_this$props, args);
      _this.reset();
    };
    return _this;
  }
  ErrorBoundary2.getDerivedStateFromError = function getDerivedStateFromError(error) {
    return {
      error
    };
  };
  var _proto = ErrorBoundary2.prototype;
  _proto.reset = function reset() {
    this.setState(initialState);
  };
  _proto.componentDidCatch = function componentDidCatch(error, info) {
    var _this$props$onError, _this$props2;
    (_this$props$onError = (_this$props2 = this.props).onError) == null ? void 0 : _this$props$onError.call(_this$props2, error, info);
  };
  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {
    var error = this.state.error;
    var resetKeys = this.props.resetKeys;
    if (error !== null && prevState.error !== null && changedArray(prevProps.resetKeys, resetKeys)) {
      var _this$props$onResetKe, _this$props3;
      (_this$props$onResetKe = (_this$props3 = this.props).onResetKeysChange) == null ? void 0 : _this$props$onResetKe.call(_this$props3, prevProps.resetKeys, resetKeys);
      this.reset();
    }
  };
  _proto.render = function render() {
    var error = this.state.error;
    var _this$props4 = this.props, fallbackRender = _this$props4.fallbackRender, FallbackComponent = _this$props4.FallbackComponent, fallback = _this$props4.fallback;
    if (error !== null) {
      var _props = {
        error,
        resetErrorBoundary: this.resetErrorBoundary
      };
      if (React.isValidElement(fallback)) {
        return fallback;
      } else if (typeof fallbackRender === "function") {
        return fallbackRender(_props);
      } else if (FallbackComponent) {
        return React.createElement(FallbackComponent, _props);
      } else {
        throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");
      }
    }
    return this.props.children;
  };
  return ErrorBoundary2;
}(React.Component);
function LexicalErrorBoundary({
  children,
  onError
}) {
  return React.createElement(ErrorBoundary, {
    fallback: React.createElement("div", {
      style: {
        border: "1px solid #f00",
        color: "#f00",
        padding: "8px"
      }
    }, "An error was thrown."),
    onError
  }, children);
}

// ../node_modules/@lexical/react/LexicalErrorBoundary.prod.esm.js
var r = __toESM(require_react());
function e(r2, t2) {
  return e = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(r3, e2) {
    return r3.__proto__ = e2, r3;
  }, e(r2, t2);
}
var t = { error: null };
var o = function(o2) {
  var n, a;
  function l() {
    for (var r2, e2 = arguments.length, n2 = new Array(e2), a2 = 0; a2 < e2; a2++)
      n2[a2] = arguments[a2];
    return (r2 = o2.call.apply(o2, [this].concat(n2)) || this).state = t, r2.resetErrorBoundary = function() {
      for (var e3, t2 = arguments.length, o3 = new Array(t2), n3 = 0; n3 < t2; n3++)
        o3[n3] = arguments[n3];
      null == r2.props.onReset || (e3 = r2.props).onReset.apply(e3, o3), r2.reset();
    }, r2;
  }
  a = o2, (n = l).prototype = Object.create(a.prototype), n.prototype.constructor = n, e(n, a), l.getDerivedStateFromError = function(r2) {
    return { error: r2 };
  };
  var s = l.prototype;
  return s.reset = function() {
    this.setState(t);
  }, s.componentDidCatch = function(r2, e2) {
    var t2, o3;
    null == (t2 = (o3 = this.props).onError) || t2.call(o3, r2, e2);
  }, s.componentDidUpdate = function(r2, e2) {
    var t2, o3, n2, a2, l2 = this.state.error, s2 = this.props.resetKeys;
    null !== l2 && null !== e2.error && (void 0 === (n2 = r2.resetKeys) && (n2 = []), void 0 === (a2 = s2) && (a2 = []), n2.length !== a2.length || n2.some(function(r3, e3) {
      return !Object.is(r3, a2[e3]);
    })) && (null == (t2 = (o3 = this.props).onResetKeysChange) || t2.call(o3, r2.resetKeys, s2), this.reset());
  }, s.render = function() {
    var e2 = this.state.error, t2 = this.props, o3 = t2.fallbackRender, n2 = t2.FallbackComponent, a2 = t2.fallback;
    if (null !== e2) {
      var l2 = { error: e2, resetErrorBoundary: this.resetErrorBoundary };
      if (r.isValidElement(a2))
        return a2;
      if ("function" == typeof o3)
        return o3(l2);
      if (n2)
        return r.createElement(n2, l2);
      throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");
    }
    return this.props.children;
  }, l;
}(r.Component);

// ../node_modules/@lexical/react/LexicalErrorBoundary.esm.js
var mod = true ? LexicalErrorBoundary_dev_esm_exports : LexicalErrorBoundary_prod_esm_exports;
var LexicalErrorBoundary_esm_default = mod.default;
export {
  LexicalErrorBoundary_esm_default as default
};
//# sourceMappingURL=@lexical_react_LexicalErrorBoundary.js.map
